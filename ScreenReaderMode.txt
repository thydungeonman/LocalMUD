# LocalMUD Screen Reader Mode â€” Design Documentation

## ğŸ¯ Purpose

Screen Reader Mode provides a fully accessible, non-Curses interface for blind and visually impaired players. It replaces visual UI elements with plain text and spoken prompts, ensuring all game interactions are readable by screen readers or audible via TTS.

---

## ğŸ§  Activation Flow

### âœ… How Itâ€™s Enabled
- Toggled via the **Settings Menu** on the title screen.
- When enabled, the game restarts and launches in **plain text mode** using `run_non_curses_mode()`.

### âœ… Persistent Flag
- Stored in the `player["screen_reader_mode"]` field.
- Checked at launch to determine whether to use Curses or plain text.

---

## ğŸ› ï¸ Functional Differences

| Feature | Curses Mode | Screen Reader Mode |
|--------|-------------|--------------------|
| UI Rendering | `draw_ui()` with `stdscr` | `print()` statements |
| Input | `stdscr.getkey()` | `input()` |
| Character Creation | `create_character(stdscr, player)` | `create_character_non_curses(player)` |
| Intro Text | Wrapped and animated | Printed with `input()` pauses |
| Game Loop | `main_loop()` | Inline loop in `run_non_curses_mode()` |
| Title Confirmation | Visual prompt | Text prompt with `input()` |

---

## ğŸ§© Planned Features

### âœ… Character Creation (Non-Curses)
- Prompt for name via `input()`
- Present background options as numbered list
- Select class based on rolled stats
- Confirm character with a simple yes/no prompt

### âœ… Game Loop
- Accept commands via `input()`
- Print room descriptions, NPC actions, and parser output
- Handle `"quit"` and `"title"` commands with text prompts

### âœ… Accessibility Enhancements
- Optional `say()` function to speak prompts aloud
- Verbose descriptions for room transitions and events
- Clear feedback after each command

---

## ğŸ§ª Debugging Strategy

When testing Screen Reader Mode:
- Use `print()` for debug markers
- Confirm flow with `"DEBUG: Entered..."` messages
- Temporarily hardcode `player["screen_reader_mode"] = True` to bypass settings

---

## ğŸ›‘ Known Issues (To Fix Later)

- Curses-based character creation still runs even when screen reader mode is enabled
- `stdscr.getkey()` blocks input in some terminals
- Recursive calls in `create_character()` can cause stack overflow
- Title screen restart logic needs a plain-text equivalent

---

## ğŸ§­ Next Steps (When You Return)

1. Refactor `create_character()` to fully support screen reader mode
2. Add a unified input wrapper for both modes
3. Modularize prompts and feedback for easier testing
4. Add persistent settings file to remember screen reader mode across sessions
